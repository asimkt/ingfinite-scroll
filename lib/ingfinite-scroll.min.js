angular.module("ingfinite-scroll",[]).directive("whenScrolled",function(){return{restrict:"A",scope:{shouldLoadItems:"@",infiniteScroll:"@",whenScrolled:"&",distanceFromBottom:"@"},controller:function(a,b,c){function e(){"true"===a.infiniteScroll&&angular.element(b).on("scroll",f)}function f(){!d&&"true"===a.shouldLoadItems&&c.pageYOffset+c.innerHeight>document.body.clientHeight-+a.distanceFromBottom&&(a.whenScrolled(),d=!0,setTimeout(function(){d=!1},500))}function g(){angular.element(b).off("scroll")}var d=!1;e(),a.$on("$destroy",g)}}});